/*
 * project_cpp.cpp
 *
 *  Created on: Mar 19, 2023
 *      Author: renatobarresi
 */

#include "project_cpp.h"
#include "hmi_module.h"
#include "serialPort_module.h"
#include "rtc_module.h"

DMA_HandleTypeDef hdma_usart3_rx;
DMA_HandleTypeDef hdma_usart3_tx;
UART_HandleTypeDef huart3;

class humanMachineInterface hmi(USART3, &huart3, 115200);
class RTCModule myRTC;

void main_cpp(void)
{
	hmi.init();
	std::string time = "21:15:00-21/08/2023";
	myRTC.init();
	myRTC.setTimeAndDate("16:38:00-02/04/2023");
	hmi.printCommands();
	while(1)
	{
		/*RTC Test
		std::string currentTimeAndDate = myRTC.getTimeAndDate();
		hmi.print(currentTimeAndDate);
		HAL_Delay(1000);
		hmi.clearScreen();*/
		//HAL_Delay(1000);
		/*Rx comand test*/
		hmi.processCommand();
	}
}
