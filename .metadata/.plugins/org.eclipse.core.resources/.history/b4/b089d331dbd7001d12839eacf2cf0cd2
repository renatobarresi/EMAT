/*
 * filesystem.h
 *
 *  Created on: Apr 10, 2023
 *      Author: renatobarresi
 */

#pragma once

extern "C" {
#include "../../Middleware/littleFS/inc/lfs.h"
}

#ifdef __cplusplus

const struct lfs_config cfg = {
    .read = w25q64_read,
    .prog = w25q64_prog,
    .erase = w25q64_erase,
    .sync = w25q64_sync,
    .read_size = 256,           // W25Q64 page size
    .prog_size = 256,           // W25Q64 page size
    .block_size = 65536,        // W25Q64 sector size (64KB)
    .block_count = 128,         // W25Q64 has 8MB, so with 64KB blocks, there are 128 blocks
    .cache_size = 256,          // Same as the program size (page size)
    .lookahead_size = 16,       // Suggested value (in bits) for a 128 block_count (adjust according to the needs of your application)
    .block_cycles = 100000,     // W25Q64 has a 100,000 program/erase cycles endurance per sector
};

#endif
