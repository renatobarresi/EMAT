/*
 * project_cpp.cpp
 *
 *  Created on: Mar 19, 2023
 *      Author: renatobarresi
 */

#include "project_cpp.h"
#include "spi_module.h"

SPI_HandleTypeDef hspi1;

class SPI mySPI(&hspi1, GPIO_PIN_13, GPIOF);

uint8_t testBuff = 0x9F;
uint8_t dummyBuff = 0x00;

void main_cpp(void)
{
	if (mySPI.init() == HAL_ERROR)
	{
		while(1);
	}
	mySPI.csLow();
	while(1)
	{
		mySPI.transmit(&testBuff, 1);
		mySPI.transmit(&dummyBuff, 1);
		mySPI.transmit(&dummyBuff, 1);
		mySPI.transmit(&dummyBuff, 1);
		mySPI.csHigh();
		HAL_Delay(100);
	}
}
